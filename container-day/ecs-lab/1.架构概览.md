# 架构概览

![系统架构](images/1.monolith_4-Monolith-Architecture.png)

**a.客户端
**客户端通过端口 80 向负载均衡器发出请求。

**b.负载均衡器
**负载均衡器会将请求分发给所有的可用端口。

**c.目标组
**实例会在应用程序的目标组中注册。

**d.容器端口
**每个容器运行一个应用程序进程，该进程会在其命名空间内将 node.js 集群父端口绑定到端口 80。

**e.使用容器封装 node.js 整体式架构
**node.js 集群父端口负责将流量分发给整体式应用程序内的工作线程。虽然此架构已经使用容器进行封装，但仍然是整体式架构，因为每个容器的功能都与其余容器相同。

# 什么是Amazon ECS

Amazon Elastic Container Service (Amazon ECS) 是一项高度可扩展、高性能的容器管理服务，支持 Docker 容器，让您能够轻松地在 Amazon EC2 实例的托管集群上运行应用程序。 只需进行简单的 API 调用，您便可以启动和停止支持 Docker 应用程序，查询集群的完整状态，使用各种熟悉的功能，包括安全组、Elastic Load Balancing、EBS 卷和 IAM 角色。

您可以使用 Amazon ECS 根据您的资源需求和可用性要求在您的集群中安排容器的置放。您还可以集成自己的计划程序或第三方计划程序，以满足业务或应用程序的特定要求。

Amazon ECS 无需额外付费。您只需为您创建的用于存储和运行应用程序的 AWS 资源（例如 EC2 实例或 EBS 卷）付费。